{"version":3,"file":"js/Notifications-9e1d4679ebf45615f880.js","mappings":"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","sources":["webpack://Plug-and-Play-Template/./src/modules/_global/js/uuid.js","webpack://Plug-and-Play-Template/./src/modules/modal/jsx/modal.jsx","webpack://Plug-and-Play-Template/./src/modules/modal/jsx/useDivButtonModalOpen.jsx","webpack://Plug-and-Play-Template/./src/modules/notifications/jsx/notification-types/BaseNotification.jsx","webpack://Plug-and-Play-Template/./src/modules/notifications/jsx/notification-types/Announcement.jsx","webpack://Plug-and-Play-Template/./src/modules/notifications/jsx/notification-types/Assignment.jsx","webpack://Plug-and-Play-Template/./src/modules/notifications/jsx/notification-types/NotificationFactory.jsx","webpack://Plug-and-Play-Template/./src/modules/notifications/jsx/notificationList.jsx","webpack://Plug-and-Play-Template/./src/modules/notifications/jsx/notifications.jsx","webpack://Plug-and-Play-Template/./src/modules/popover/jsx/popover.jsx"],"sourcesContent":["/* eslint-disable no-bitwise */\n/**\n * Generate a (mostly) unique ID in an RFC4122 version 4 compliant format\n * Function ported from initFormSubmissionHandler.\n *\n * @returns String\n *\n * @source https://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid\n */\nexport default function uuidv4() {\n    return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, (c) =>\n        (\n            c ^\n            (crypto.getRandomValues(new Uint8Array(1))[0] & (15 >> (c / 4)))\n        ).toString(16)\n    );\n}\n","/* eslint-disable react/jsx-props-no-spreading */ // Disabled as prop spreading is the documented way to use the @react-aria framework\nimport React, { useEffect } from 'react';\nimport {\n    useOverlay,\n    usePreventScroll,\n    useModal,\n    OverlayContainer,\n} from '@react-aria/overlays';\nimport { useDialog } from '@react-aria/dialog';\nimport { FocusScope, useFocusManager } from '@react-aria/focus';\n\n/**\n * React implementation of the Plug and Play Modal, uses the Adobe @react-aria package\n * to handle the modal / dialog related accessability concerns such as focus movement, focus traps,\n * ESC to close ect.\n *\n * Needs to be wrapped within a <OverlayProvider> to aria hide the application when the modal opens.\n *\n * Comments on @react-aria hooks come directly from their documentation.\n */\nexport default function Modal({\n    titleId,\n    title,\n    onClose,\n    children,\n    className,\n}) {\n    return (\n        <OverlayContainer>\n            <div\n                className={`no-wysiwyg modal-wrapper ${\n                    className ? `${className}-wrapper` : ''\n                }`}\n            >\n                <FocusScope contain restoreFocus autoFocus>\n                    <ModalContent\n                        titleId={titleId}\n                        title={title}\n                        onClose={onClose}\n                        className={className}\n                    >\n                        {children}\n                    </ModalContent>\n                </FocusScope>\n            </div>\n        </OverlayContainer>\n    );\n}\n\nfunction ModalContent({ titleId, title, onClose, children, className }) {\n    // Base settings for @react-aria hooks\n    const settings = {\n        'aria-describedby': titleId,\n        title,\n        onClose,\n        isDismissable: true,\n        isOpen: true,\n    };\n\n    const modalRef = React.useRef();\n    const modalContentRef = React.useRef();\n    const focusManager = useFocusManager();\n\n    /*\n        Provides the behavior for overlays such as dialogs, popovers, and menus. Hides the overlay when\n        the user interacts outside it, when the Escape key is pressed, or optionally, on blur.\n    */\n    const { overlayProps, underlayProps } = useOverlay(\n        settings,\n        modalContentRef\n    );\n\n    /*\n        Prevents scrolling on the document body on mount, and restores it on unmount.\n        Also ensures that content does not shift due to the scrollbars disappearing.\n    */\n    usePreventScroll();\n\n    /*\n        Hides content outside the current <OverlayContainer> from screen readers on mount and restores it on unmount.\n    */\n    const { modalProps } = useModal();\n\n    /*\n        Provides the behavior and accessibility implementation for a dialog component.\n    */\n    const { dialogProps, titleProps } = useDialog(settings, modalContentRef);\n\n    /*\n        Remove the hidden attribute as soon as its drawn to the DOM so it transitions open like\n        the base ES6 modal in the framework.\n    */\n    useEffect(() => {\n        modalRef.current.removeAttribute('hidden');\n        focusManager.focusFirst(); // FocusScope autofocus property wont work due to being hidden so focus first now\n    }, [modalRef]);\n\n    return (\n        <div\n            ref={modalRef}\n            {...underlayProps}\n            hidden\n            className={`modal ${className || ''}`}\n        >\n            <div\n                ref={modalContentRef}\n                {...overlayProps}\n                {...dialogProps}\n                {...modalProps}\n                aria-modal=\"true\"\n                tabIndex=\"-1\"\n                className={`modal__content ${\n                    className ? `${className}__content` : ''\n                }`}\n            >\n                {titleId ? (\n                    ''\n                ) : (\n                    <h2\n                        {...titleProps}\n                        className={`${className ? `${className}__title` : ''}`}\n                    >\n                        {title}\n                    </h2>\n                )}\n                {children}\n            </div>\n        </div>\n    );\n}\n","/* eslint-disable import/prefer-default-export */\nimport { useRef, useState } from 'react';\nimport { useButton } from '@react-aria/button';\n/**\n * @returns Hooks to open and close the modal dialog from interacting with the a div rather than a button\n */\nexport default function useDivButtonModalOpen() {\n    const [isModalOpen, setIsModalOpen] = useState(false);\n    const openModalRef = useRef();\n\n    let { buttonProps: modalOpenProps } = useButton(\n        {\n            onPress: () => setIsModalOpen(true),\n        },\n        openModalRef\n    );\n\n    // Add our own fields\n    modalOpenProps = {\n        ...modalOpenProps,\n        role: 'button',\n        tabIndex: '0',\n        'aria-label': 'Open in modal',\n    };\n    delete modalOpenProps.type;\n\n    return {\n        openModalRef, // useRef\n        modalOpenProps, // useKeyboard\n        isModalOpen, // useState get\n        setIsModalOpen, // useState set\n    };\n}\n","/* eslint-disable react/jsx-props-no-spreading */\nimport React, { useEffect } from 'react';\nimport { formatDistance } from 'date-fns';\n\nimport uuidv4 from 'PlugAndPlay/_global/js/uuid';\nimport Modal from '../../../modal/jsx/modal';\nimport useDivButtonModalOpen from '../../../modal/jsx/useDivButtonModalOpen';\n\nexport default function BaseNotification(args) {\n    const { title, subtitle, body, read, onClick } = args;\n    const { openModalRef, modalOpenProps, isModalOpen, setIsModalOpen } =\n        useDivButtonModalOpen();\n\n    useEffect(() => {\n        // When modal is opened pass the 'click' back up to the parent\n        if (isModalOpen) {\n            onClick();\n        }\n    }, [isModalOpen]);\n\n    return (\n        <>\n            <div\n                {...modalOpenProps}\n                ref={openModalRef}\n                className={`notification-content ${\n                    !read ? 'notification-content--unread' : ''\n                }`}\n            >\n                <div className=\"notification-content__header\">\n                    <h2 className=\"notification-content__title\">{title}</h2>\n                </div>\n                <div className=\"notification-content__body\">\n                    {subtitle ? (\n                        <div className=\"notification-content__subtitle\">\n                            {title}\n                        </div>\n                    ) : (\n                        <></>\n                    )}\n                    <div className=\"notification-content__description\">\n                        {body}\n                    </div>\n                </div>\n            </div>\n            {isModalOpen && (\n                <BaseNotificationModal\n                    {...args}\n                    handleModalClose={() => {\n                        setIsModalOpen(false);\n                    }}\n                />\n            )}\n        </>\n    );\n}\n\nexport function BaseNotificationModal({\n    type,\n    title,\n    subtitle,\n    createdDate,\n    body,\n    pinned,\n    handleModalClose,\n    onPin,\n    pinningAlowed,\n}) {\n    let createDistance = formatDistance(createdDate, new Date(), {\n        addSuffix: true,\n    });\n\n    // Condense any distance less than a day into 'Today'\n    if (['minute', 'hour'].some((el) => createDistance.includes(el))) {\n        createDistance = 'Today';\n    }\n\n    const titleId = uuidv4(); // Modal needs a id for the dialog described by\n    return (\n        <Modal\n            titleId={titleId}\n            onClose={(e) => {\n                handleModalClose(e);\n            }}\n        >\n            <div\n                className={`notification-content-modal notification-content-modal--${type}`}\n            >\n                <header className=\"notification-content-modal__header\">\n                    <h2\n                        id={titleId}\n                        className=\"notification-content-modal__title\"\n                    >\n                        {title}\n                    </h2>\n                </header>\n                <div className=\"notification-content-modal__body\">\n                    <div className=\"notification-content-modal__date-distance\">\n                        {createDistance}\n                    </div>\n                    {subtitle ? (\n                        <div className=\"notification-content-modal__subtitle\">\n                            {subtitle}\n                        </div>\n                    ) : (\n                        <></>\n                    )}\n                    <div className=\"notification-content-modal__description\">\n                        {body}\n                    </div>\n                </div>\n                {pinningAlowed && (\n                    <footer className=\"notification-content-modal__footer\">\n                        <button\n                            type=\"button\"\n                            onClick={onPin}\n                            className=\"notification-content-modal__pin\"\n                        >\n                            <svg aria-hidden=\"true\" className=\"svg-icon\">\n                                <use href=\"#pin\" />\n                            </svg>\n                            {pinned ? 'Unpin it' : 'Pin it'}\n                        </button>\n                    </footer>\n                )}\n            </div>\n        </Modal>\n    );\n}\n","/* eslint-disable react/jsx-props-no-spreading */\nimport React, { useEffect } from 'react';\nimport { formatDistance } from 'date-fns';\n\nimport uuidv4 from 'PlugAndPlay/_global/js/uuid';\nimport Modal from '../../../modal/jsx/modal';\nimport useDivButtonModalOpen from '../../../modal/jsx/useDivButtonModalOpen';\n\nexport default function Announcement(args) {\n    const { title, course, body, read, onClick } = args;\n    const { openModalRef, modalOpenProps, isModalOpen, setIsModalOpen } =\n        useDivButtonModalOpen();\n\n    useEffect(() => {\n        // When modal is opened pass the 'click' back up to the parent\n        if (isModalOpen) {\n            onClick();\n        }\n    }, [isModalOpen]);\n\n    return (\n        <>\n            <div\n                {...modalOpenProps}\n                ref={openModalRef}\n                className={`notification-content ${\n                    !read ? 'notification-content--unread' : ''\n                }`}\n            >\n                <div className=\"notification-content__header\">\n                    <svg aria-hidden=\"true\" className=\"svg-icon\">\n                        <use href=\"#announcement\" />\n                    </svg>\n                    <h2 className=\"notification-content__title\">\n                        {course ? `${course} | ` : ''}Announcement\n                    </h2>\n                </div>\n                <div className=\"notification-content__body\">\n                    <div className=\"notification-content__subtitle\">\n                        {title}\n                    </div>\n                    <div className=\"notification-content__description\">\n                        {body}\n                    </div>\n                </div>\n            </div>\n            {isModalOpen && (\n                <AnnouncementModal\n                    {...args}\n                    handleModalClose={() => {\n                        setIsModalOpen(false);\n                    }}\n                />\n            )}\n        </>\n    );\n}\n\nexport function AnnouncementModal({\n    type,\n    title,\n    course,\n    createdDate,\n    body,\n    pinned,\n    handleModalClose,\n    onPin,\n    pinningAlowed,\n}) {\n    let createDistance = formatDistance(createdDate, new Date(), {\n        addSuffix: true,\n    });\n\n    // Condense any distance less than a day into 'Today'\n    if (['minute', 'hour'].some((el) => createDistance.includes(el))) {\n        createDistance = 'Today';\n    }\n\n    const titleId = uuidv4(); // Modal needs a id for the dialog described by\n    return (\n        <Modal titleId={titleId} onClose={handleModalClose}>\n            <div\n                className={`notification-content-modal notification-content-modal--${type}`}\n            >\n                <header className=\"notification-content-modal__header\">\n                    <svg aria-hidden=\"true\" className=\"svg-icon\">\n                        <use href=\"#announcement\" />\n                    </svg>\n                    <h2\n                        id={titleId}\n                        className=\"notification-content-modal__title\"\n                    >\n                        {course ? `${course} | ` : ''} Announcement\n                    </h2>\n                </header>\n\n                <div className=\"notification-content-modal__body\">\n                    <div className=\"notification-content-modal__date-distance\">\n                        {createDistance}\n                    </div>\n                    {title ? (\n                        <div className=\"notification-content-modal__subtitle\">\n                            {title}\n                        </div>\n                    ) : (\n                        <></>\n                    )}\n                    <div className=\"notification-content-modal__description\">\n                        {body}\n                    </div>\n                </div>\n\n                {pinningAlowed && (\n                    <footer className=\"notification-content-modal__footer\">\n                        <button\n                            type=\"button\"\n                            onClick={onPin}\n                            className=\"notification-content-modal__pin\"\n                        >\n                            <svg aria-hidden=\"true\" className=\"svg-icon\">\n                                <use href=\"#pin\" />\n                            </svg>\n                            {pinned ? 'Unpin it' : 'Pin it'}\n                        </button>\n                    </footer>\n                )}\n            </div>\n        </Modal>\n    );\n}\n","/* eslint-disable react/jsx-props-no-spreading */\nimport React, { useEffect } from 'react';\nimport { format, formatDistance } from 'date-fns';\n\nimport uuidv4 from 'PlugAndPlay/_global/js/uuid';\nimport Modal from '../../../modal/jsx/modal';\nimport useDivButtonModalOpen from '../../../modal/jsx/useDivButtonModalOpen';\n\nexport default function Assignment(args) {\n    const { title, course, body, read, onClick } = args;\n    const { openModalRef, modalOpenProps, isModalOpen, setIsModalOpen } =\n        useDivButtonModalOpen();\n\n    useEffect(() => {\n        // When modal is opened pass the 'click' back up to the parent\n        if (isModalOpen) {\n            onClick();\n        }\n    }, [isModalOpen]);\n\n    return (\n        <>\n            <div\n                {...modalOpenProps}\n                ref={openModalRef}\n                className={`notification-content ${\n                    !read ? 'notification-content--unread' : ''\n                }`}\n            >\n                <div className=\"notification-content__header\">\n                    <svg aria-hidden=\"true\" className=\"svg-icon\">\n                        <use href=\"#assignment\" />\n                    </svg>\n                    <h2 className=\"notification-content__title\">\n                        {course ? `${course} | ` : ''}Assignment\n                    </h2>\n                </div>\n                <div className=\"notification-content__body\">\n                    {title && (\n                        <div className=\"notification-content__subtitle\">\n                            {title}\n                        </div>\n                    )}\n\n                    <div className=\"notification-content__description\">\n                        {body}\n                    </div>\n                </div>\n            </div>\n            {isModalOpen && (\n                <AssignmentModal\n                    {...args}\n                    handleModalClose={() => {\n                        setIsModalOpen(false);\n                    }}\n                />\n            )}\n        </>\n    );\n}\n\nexport function AssignmentModal({\n    type,\n    course,\n    createdDate,\n    dueDate,\n    body,\n    externalLink,\n    pinned,\n    handleModalClose,\n    onPin,\n    pinningAlowed,\n}) {\n    let createDistance = formatDistance(createdDate, new Date(), {\n        addSuffix: true,\n    });\n\n    // Condense any distance less than a day into 'Today'\n    if (['minute', 'hour'].some((el) => createDistance.includes(el))) {\n        createDistance = 'Today';\n    }\n\n    const dueDateText = format(dueDate, 'dd MMM');\n    const titleId = uuidv4(); // Modal needs a id for the dialog described by\n    return (\n        <Modal titleId={titleId} onClose={handleModalClose}>\n            <div\n                className={`notification-content-modal notification-content-modal--${type}`}\n            >\n                <header className=\"notification-content-modal__header\">\n                    <svg aria-hidden=\"true\" className=\"svg-icon\">\n                        <use href=\"#assignment\" />\n                    </svg>\n                    <h2\n                        id={titleId}\n                        className=\"notification-content-modal__title\"\n                    >\n                        {course ? `${course} | ` : ''} Assignment\n                    </h2>\n                </header>\n\n                <div className=\"notification-content-modal__body\">\n                    <div className=\"notification-content-modal__date-distance\">\n                        {createDistance}\n                    </div>\n                    {dueDate ? (\n                        <div className=\"notification-content-modal__subtitle\">\n                            Due {dueDateText}\n                        </div>\n                    ) : (\n                        <></>\n                    )}\n                    <div className=\"notification-content-modal__description\">\n                        {body}\n                    </div>\n\n                    <a\n                        href={externalLink}\n                        className=\"notification-content-modal__link\"\n                    >\n                        <svg className=\"svg-icon svg-icon--small\">\n                            <title>External link</title>\n                            <use href=\"#external\" />\n                        </svg>\n                        View in Canvas\n                    </a>\n                </div>\n\n                {pinningAlowed && (\n                    <footer className=\"notification-content-modal__footer\">\n                        <button\n                            type=\"button\"\n                            onClick={onPin}\n                            className=\"notification-content-modal__pin\"\n                        >\n                            <svg aria-hidden=\"true\" className=\"svg-icon\">\n                                <use href=\"#pin\" />\n                            </svg>\n                            {pinned ? 'Unpin it' : 'Pin it'}\n                        </button>\n                    </footer>\n                )}\n            </div>\n        </Modal>\n    );\n}\n","/* eslint-disable react/jsx-props-no-spreading */\n/* eslint-disable import/prefer-default-export */\nimport React from 'react';\n\nimport BaseNotification from './BaseNotification';\nimport Announcement from './Announcement';\nimport Assignment from './Assignment';\n\nexport default function NotificationFactory(args) {\n    const { type } = args;\n    switch (type) {\n        case 'announcement':\n            return <Announcement {...args} />;\n        case 'assignment':\n            return <Assignment {...args} />;\n        default:\n            return <BaseNotification {...args} />;\n    }\n}\n","/* eslint-disable react/jsx-props-no-spreading */\n/* eslint-disable no-use-before-define */\n/* eslint-disable react/prefer-stateless-function */\nimport React from 'react';\nimport { formatDistance } from 'date-fns';\n\nimport NotificationFactory from './notification-types/NotificationFactory';\n\nexport default function NotificationsList({\n    notifications,\n    showLimit,\n    pinnedList,\n    pinningAlowed,\n    setRead,\n    setPinned,\n}) {\n    let notificationsToRender = notifications;\n    let daysAgo = ''; // Keep track of when the date distance changes between notifications\n\n    if (showLimit > -1) {\n        notificationsToRender = notificationsToRender.slice(0, showLimit);\n    }\n\n    return notificationsToRender.map((notification, i) => {\n        const { pinned } = notification;\n        let showDaysSince = false;\n        let createDistance;\n\n        if (!pinnedList) {\n            createDistance = formatDistance(\n                notification.createdDate,\n                new Date(),\n                {\n                    addSuffix: true,\n                }\n            );\n\n            // Condense any distance less than a day into 'Today'\n            if (['minute', 'hour'].some((el) => createDistance.includes(el))) {\n                createDistance = 'Today';\n            }\n\n            // If the distance has changed from last notification add class to show visual X days/months ago line\n            if (daysAgo !== createDistance) {\n                showDaysSince = true;\n                daysAgo = createDistance;\n            }\n        }\n\n        return (\n            <li\n                key={`${notification.id}`}\n                className={`notification-item ${\n                    pinned ? 'notification-item--pinned' : ''\n                }`}\n            >\n                {/* If a pinned list is being printed use this heading */}\n                {i === 0 && pinnedList ? (\n                    <div className=\"notification-item__pinned\">\n                        {`Pinned (${notifications.length})`}\n                    </div>\n                ) : (\n                    <> </>\n                )}\n\n                {/* If is NOT a pinned list AND the date distance has changed use this heading */}\n                {!pinnedList && showDaysSince ? (\n                    <div className=\"notification-item__distance\">\n                        {createDistance}\n                    </div>\n                ) : (\n                    <> </>\n                )}\n\n                <div className=\"notification-item__body\">\n                    {/* Use a factory pattern to decide what the content of the notification looks like */}\n                    <NotificationFactory\n                        {...notification}\n                        onClick={() => {\n                            if (!notification.read) {\n                                setRead(notification);\n                            }\n                        }}\n                        onPin={() => setPinned(notification)}\n                        pinningAlowed={pinningAlowed}\n                    />\n\n                    {pinningAlowed ? (\n                        <button\n                            type=\"button\"\n                            onClick={() => setPinned(notification)}\n                            className={`notification-item__icon ${\n                                pinned ? 'notification-item__icon--pinned' : ''\n                            }`}\n                        >\n                            <svg className=\"svg-icon\">\n                                <title>\n                                    {pinned ? 'Unpin' : 'Pin'} notification\n                                </title>\n                                <use href=\"#pin\" />\n                            </svg>\n                        </button>\n                    ) : (\n                        <></>\n                    )}\n                </div>\n            </li>\n        );\n    });\n}\n","/* eslint-disable react/prefer-stateless-function */\nimport React, { useState, useEffect, useContext, useCallback } from 'react';\nimport { OverlayProvider } from '@react-aria/overlays';\nimport uuidv4 from 'PlugAndPlay/_global/js/uuid';\n\nimport NotificationsContext from './data/NotificationsContext';\nimport NotificationList from './notificationList';\nimport Popover from '../../popover/jsx/popover';\n\nimport '../css/_global.scss'; // Last so our CSS overrides any dependencies above\n\nexport default function Notifications({\n    popover,\n    title,\n    enablePinnedNotifications,\n    showUnreadIndicator,\n    notificationsLimit,\n    pinnedLimit,\n}) {\n    const {\n        notifications,\n        getNotifications,\n        isMoreNotifications,\n\n        pinnedNotifications,\n        getPinnedNotifications,\n        setPinned,\n\n        unreadNotificationsCount,\n        getUnreadNotificationsCount,\n        setRead,\n    } = useContext(NotificationsContext);\n\n    const [showAllPinned, setShowAllPinned] = useState(false);\n\n    // Initial data load\n    useEffect(() => {\n        // If pinning notifications is enabled\n        if (enablePinnedNotifications) {\n            getPinnedNotifications();\n        }\n        if (showUnreadIndicator) {\n            getUnreadNotificationsCount();\n        }\n        getNotifications({\n            max: notificationsLimit,\n            includePinned: !enablePinnedNotifications,\n        });\n    }, [enablePinnedNotifications, notificationsLimit]);\n\n    // Handlers for data change\n    const handleSetRead = useCallback(\n        (notification) => {\n            setRead({\n                ...notification,\n                read: true,\n            });\n        },\n        [setRead]\n    );\n    const handleSetPinned = useCallback(\n        (notification) => {\n            setPinned({\n                ...notification,\n                pinned: !notification.pinned,\n            });\n        },\n        [setPinned]\n    );\n\n    // All pinned notification are loaded up front but not all are shown, toggle them all visible or not\n    const handlePinnedShowMore = useCallback(() => {\n        setShowAllPinned(!showAllPinned);\n    }, [setShowAllPinned, showAllPinned]);\n\n    // The main notifications are paged based on the 'notificationsLimit input, grab the next page worth of notifications\n    const handleGetMoreNotifications = useCallback(() => {\n        getNotifications({\n            start: notifications.length,\n            max: notificationsLimit,\n            includePinned: !enablePinnedNotifications,\n        });\n    }, [notifications, notificationsLimit, enablePinnedNotifications]);\n\n    const titleId = uuidv4(); // Popover needs a id for the dialog described by\n    let notificationsContent = (\n        <div className=\"no-wysiwyg notifications\">\n            <div className=\"notifications__header\">\n                <h1 id={titleId} className=\"notifications__title\">\n                    {title}\n                </h1>\n            </div>\n\n            <div className=\"notifications__body\">\n                {enablePinnedNotifications && pinnedNotifications.length > 0 && (\n                    <ul\n                        aria-label=\"Pinned notifications\"\n                        className=\"notifications__list\"\n                    >\n                        <NotificationList\n                            notifications={pinnedNotifications}\n                            showLimit={showAllPinned ? -1 : pinnedLimit}\n                            showMore={handlePinnedShowMore}\n                            pinnedList\n                            pinningAlowed\n                            setRead={handleSetRead}\n                            setPinned={handleSetPinned}\n                        />\n                    </ul>\n                )}\n\n                {enablePinnedNotifications &&\n                    pinnedNotifications.length > pinnedLimit && (\n                        <button\n                            type=\"button\"\n                            onClick={handlePinnedShowMore}\n                            className=\"notifications__expand-pinned\"\n                        >\n                            Show {showAllPinned ? 'less' : 'more'} (\n                            {pinnedNotifications.length - pinnedLimit})\n                        </button>\n                    )}\n\n                <ul aria-label=\"Notifications\" className=\"notifications__list\">\n                    <NotificationList\n                        notifications={notifications}\n                        pinningAlowed={enablePinnedNotifications}\n                        setRead={handleSetRead}\n                        setPinned={handleSetPinned}\n                    />\n                </ul>\n\n                {isMoreNotifications && (\n                    <button\n                        type=\"button\"\n                        onClick={handleGetMoreNotifications}\n                        className=\"notifications__more\"\n                    >\n                        Show more\n                    </button>\n                )}\n            </div>\n        </div>\n    );\n\n    if (popover) {\n        notificationsContent = (\n            <Popover\n                titleId={titleId}\n                trigger={({ props, ref }) => {\n                    return (\n                        <button\n                            ref={ref}\n                            {...props}\n                            type=\"button\"\n                            className=\"notifications-wrapper__action\"\n                        >\n                            {showUnreadIndicator &&\n                                unreadNotificationsCount > 0 && (\n                                    <div\n                                        aria-label=\"unread notifications\"\n                                        className=\"notifications-wrapper__unread\"\n                                    >\n                                        {unreadNotificationsCount}\n                                    </div>\n                                )}\n                            <svg className=\"svg-icon\">\n                                <title>View notifications</title>\n                                <use href=\"#notification\" />\n                            </svg>\n                        </button>\n                    );\n                }}\n                className=\"notification-popover\"\n            >\n                {notificationsContent}\n            </Popover>\n        );\n    }\n\n    return (\n        <OverlayProvider className=\"notifications-wrapper\">\n            {notificationsContent}\n        </OverlayProvider>\n    );\n}\n","/* eslint-disable react/button-has-type */\n/* eslint-disable react/jsx-props-no-spreading */\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n    OverlayContainer,\n    DismissButton,\n    useOverlayTrigger,\n    useOverlayPosition,\n    useOverlay,\n    useModal,\n} from '@react-aria/overlays';\nimport { useButton } from '@react-aria/button';\nimport { useDialog } from '@react-aria/dialog';\nimport { FocusScope } from '@react-aria/focus';\nimport { mergeProps } from '@react-aria/utils';\n\nimport '../css/_global.scss';\n\nconst OTHER_OVERLAY_CONTAINER_OPEN =\n    '[data-overlay-container]:not([aria-hidden=\"true\"])';\nconst PopoverContent = React.forwardRef(\n    (\n        {\n            triggerRef,\n            titleId,\n            title,\n            children,\n            isOpen,\n            onClose,\n            className,\n            ...otherProps\n        },\n        ref\n    ) => {\n        // Handle interacting outside the dialog and pressing the Escape key to close the modal.\n        const { overlayProps } = useOverlay(\n            {\n                onClose,\n                isOpen,\n                isDismissable: true,\n                shouldCloseOnInteractOutside: (element) => {\n                    /*\n                        Framework tries to cancels all events on the basis that there is an 'overlay' showing\n                        which should swallow the events, except it doesnt work consistently and will allow most\n                        onClick bound events though and only block other usage from the @react-aria framework\n                        like other popover openers.\n                    */\n\n                    // If content within the popover has cause ANOTHER overlay to open we dont want to close\n                    // this one just because its being interacted with somehow.\n                    if (element.closest(OTHER_OVERLAY_CONTAINER_OPEN)) {\n                        return false;\n                    }\n\n                    // If the click is on the popover trigger just let it through so the popover doesnt re-open itself\n                    if (triggerRef.current.contains(element)) {\n                        return true;\n                    }\n\n                    onClose(); // Close the popover\n                    return false; // But let the click / press event cascade\n                },\n            },\n            ref\n        );\n\n        // Hide content outside the modal from screen readers.\n        const { modalProps } = useModal();\n\n        // Get props for the dialog and its title\n        const { dialogProps, titleProps } = useDialog(\n            { 'aria-describedby': titleId },\n            ref\n        );\n\n        return (\n            <FocusScope contain restoreFocus>\n                <div\n                    {...mergeProps(\n                        overlayProps,\n                        dialogProps,\n                        otherProps,\n                        modalProps\n                    )}\n                    ref={ref}\n                    className={`popover__dialog ${className}__dialog`}\n                >\n                    {/* Include a title only if a titleId is not provided */}\n                    {titleId ? (\n                        ''\n                    ) : (\n                        <h2\n                            {...titleProps}\n                            className={`popover__title ${className}__title`}\n                        >\n                            {title}\n                        </h2>\n                    )}\n\n                    {children}\n                    <DismissButton onDismiss={onClose} />\n                </div>\n            </FocusScope>\n        );\n    }\n);\n\n/**\n * Create an ARIA / WCAG compatable popover using @react-aria\n * Modified from: https://react-spectrum.adobe.com/react-aria/useOverlayTrigger.html\n *\n * @param {string} titleId - (optional) Id of an element in the children element to act as dialog title; if not provided 'title' must be.\n * @param {string} title - (optional) Title of the dialog; if not provided 'titleId' must be.\n * @param {function} trigger - Callback function to generate the trigger button for the popover\n * @param {string} className - Class to pre-pend to all internal className definitions\n * @param {string} children - Content of the Popover\n * @returns {JSX.Element}\n */\nexport default function Popover({\n    titleId,\n    title,\n    placement,\n    trigger,\n    className,\n    children,\n}) {\n    // Implementing useOverlayTriggerState so i dont have to add another dependency\n    const [isOpen, setIsOpen] = useState(false);\n\n    const triggerRef = React.useRef();\n    const overlayRef = React.useRef();\n\n    // Get props for the trigger and overlay. This also handles hiding the overlay when a parent element of the trigger scrolls (which invalidates the popover positioning).\n    const { triggerProps, overlayProps } = useOverlayTrigger(\n        { type: 'dialog' },\n        {\n            isOpen,\n        },\n        triggerRef\n    );\n\n    // Get popover positioning props relative to the trigger\n    const { overlayProps: positionProps } = useOverlayPosition({\n        targetRef: triggerRef,\n        overlayRef,\n        placement: placement || 'bottom right',\n        offset: 5,\n        isOpen,\n    });\n\n    // Let the CSS and template decide the correct z-index\n    delete positionProps.style.zIndex;\n\n    // Move properties into CSS variables to make altering them easier\n    // eslint-disable-next-line no-restricted-syntax\n    for (const [key, value] of Object.entries(positionProps.style)) {\n        // eslint-disable-next-line no-restricted-globals\n        positionProps.style[`--popover-${key}`] = !isNaN(value)\n            ? `${value}px`\n            : value;\n\n        delete positionProps.style[key];\n    }\n\n    const { buttonProps } = useButton(\n        {\n            onPress: () => setIsOpen(true),\n        },\n        triggerRef\n    );\n\n    // Get the trigger element from the parent\n    const triggerElement = trigger({\n        props: { ...mergeProps(buttonProps, triggerProps) },\n        ref: triggerRef,\n    });\n\n    return (\n        <>\n            {triggerElement}\n            {isOpen && (\n                <OverlayContainer className={`popover ${className}`}>\n                    <PopoverContent\n                        {...overlayProps}\n                        {...positionProps}\n                        ref={overlayRef}\n                        triggerRef={triggerRef}\n                        titleId={titleId}\n                        title={title}\n                        isOpen\n                        onClose={() => {\n                            setIsOpen(false);\n                        }}\n                        className={className}\n                    >\n                        {children}\n                    </PopoverContent>\n                </OverlayContainer>\n            )}\n        </>\n    );\n}\n\nPopover.propTypes = {\n    titleId: PropTypes.string,\n    title: PropTypes.string,\n    trigger: PropTypes.func,\n    className: PropTypes.string,\n};\n\nPopover.defaultProps = {\n    titleId: '',\n    title: 'popover',\n    trigger: ({ props, ref }) => {\n        return (\n            <button {...props} ref={ref}>\n                Open popover\n            </button>\n        );\n    },\n    className: 'popover',\n};\n"],"names":["uuidv4","replace","c","crypto","getRandomValues","Uint8Array","toString","Modal","titleId","title","onClose","children","className","contain","restoreFocus","autoFocus","ModalContent","settings","isDismissable","isOpen","modalRef","React","modalContentRef","focusManager","useFocusManager","overlayProps","underlayProps","useOverlay","usePreventScroll","modalProps","useModal","dialogProps","titleProps","useDialog","useEffect","current","removeAttribute","focusFirst","ref","hidden","tabIndex","useDivButtonModalOpen","isModalOpen","setIsModalOpen","useState","openModalRef","useRef","buttonProps","modalOpenProps","useButton","onPress","role","type","BaseNotification","args","subtitle","body","read","onClick","BaseNotificationModal","handleModalClose","createdDate","pinned","onPin","pinningAlowed","createDistance","formatDistance","Date","addSuffix","some","el","includes","e","id","href","Announcement","course","AnnouncementModal","Assignment","AssignmentModal","dueDate","externalLink","dueDateText","format","NotificationFactory","NotificationsList","notifications","showLimit","pinnedList","setRead","setPinned","notificationsToRender","daysAgo","slice","map","notification","i","showDaysSince","key","length","Notifications","popover","enablePinnedNotifications","showUnreadIndicator","notificationsLimit","pinnedLimit","getNotifications","isMoreNotifications","pinnedNotifications","getPinnedNotifications","unreadNotificationsCount","getUnreadNotificationsCount","useContext","NotificationsContext","showAllPinned","setShowAllPinned","max","includePinned","handleSetRead","useCallback","handleSetPinned","handlePinnedShowMore","handleGetMoreNotifications","start","notificationsContent","showMore","trigger","props","PopoverContent","triggerRef","otherProps","shouldCloseOnInteractOutside","element","closest","contains","mergeProps","onDismiss","Popover","placement","setIsOpen","overlayRef","triggerProps","useOverlayTrigger","positionProps","useOverlayPosition","targetRef","offset","style","zIndex","value","Object","entries","isNaN","triggerElement","propTypes","PropTypes","defaultProps"],"sourceRoot":""}