/*! For license information please see Calendar-6bde695bbc0855d7af93.js.LICENSE.txt */
"use strict";(self.webpackChunkPlug_and_Play_Template=self.webpackChunkPlug_and_Play_Template||[]).push([[213],{65525:function(e,t,n){n.d(t,{D:function(){return a}});n(33948),n(17727);class a{constructor(){this.requests=new Map}debounce(e,t){const n=JSON.stringify(e);if(!this.requests.has(n)){const e=t();e.finally((()=>{this.requests.delete(n)})),this.requests.set(n,e)}return this.requests.get(n)}get(e){return this.requests.get(JSON.stringify(e))}}},331:function(e,t,n){n.d(t,{Z:function(){return a}});n(15306),n(82472),n(3462),n(33824);function a(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))}},2725:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});n(33948);var a=n(67294),r=n(12988);const l=e=>{let{children:t,initialGetEventsDto:n,eventService:r}=e;const[l,s]=(0,a.useState)(!1),[i,o]=(0,a.useState)(!1),[d,u]=(0,a.useState)([]),m=(0,a.useCallback)((e=>(s(!0),r.getEvents(e).then((e=>{u(e),s(!1)})))),[]);return(0,a.useEffect)((()=>{n?(s(!0),r.getEvents(n).then((e=>{u(e),s(!1),o(!0)}))):(s(!1),o(!0))}),[s,o]),a.createElement(c.Provider,{value:{getEvents:m,events:d,eventService:r,isLoading:l,isReady:i}},t)},c=(0,a.createContext)({events:[],eventService:null,isLoading:!1,isReady:!1,getEvents:null});n(33792);var s=n(65525);class i{constructor(e){if(!e)throw new Error("args is required when instantiating a new EventService");["eventAdapters"].forEach((t=>{if(!e[t])throw new Error("".concat(t," property is required when instantiating a new EventService"))})),this.promiseDebouncer=new s.D,this.eventAdapters=e.eventAdapters}getEvents(e){return Promise.all(this.eventAdapters.map((t=>this.promiseDebouncer.debounce({name:t.sourceId,method:"getEvents",...e},(()=>t.getEvents(e)))))).then((e=>e.flat()))}}var o=n(331),d=n(27354);function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u.apply(this,arguments)}function m(e){let{uniqueId:t,icon:n,iconTitle:r,text:l,children:c,className:s}=e;const i=(0,a.createRef)(),[o,m]=(0,a.useState)(!1),{focusWithinProps:v}=(0,d.L_)({onBlurWithin:()=>{m(!1)}}),{keyboardProps:h}=(0,d.v5)({onKeyDown:e=>{o&&"Escape"===e.key&&(m(!1),i.current.focus())}}),E=a.Children.map(c,(e=>a.isValidElement(e)?a.cloneElement(e,{onClick:()=>{m(!1),i.current.focus(),e.props.onClick()}}):e));return a.createElement("div",u({},v,h,{className:"button-menu ".concat(s)}),a.createElement("button",{ref:i,type:"button","aria-expanded":o,"aria-controls":"".concat(t,"-button-menu-menu"),onClick:()=>m(!o),className:"button-menu__button"},n&&a.createElement("svg",{className:"svg-icon button-menu__icon"},r&&a.createElement("title",null,r),a.createElement("use",{href:"#".concat(n)})),l&&a.createElement("span",{className:"button-menu__label"},l)),a.createElement("ul",{id:"".concat(t,"-button-menu-menu"),className:"button-menu__menu ".concat(o?"button-menu__menu--open":"")},E))}function v(e){let{label:t,onClick:n}=e;return a.createElement("li",{className:"button-menu__item"},a.createElement("button",{type:"button",onClick:n,className:"button-menu__item-select"},a.createElement("span",{className:"button-menu__item-label"},t)))}var h=n(11321),E=n(46984),p=n(63738),g=n.n(p);n(6564);function _(){return _=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},_.apply(this,arguments)}function f(e){let{date:t,onDateChange:n}=e;const r=(0,a.createRef)(),[l,c]=(0,a.useState)(!1),s=e=>{let{numberOfDays:a}=e;const r=new Date(t);r.setDate(r.getDate()+a),n(r)},{focusWithinProps:i}=(0,d.L_)({onBlurWithin:()=>{c(!1)}}),{keyboardProps:o}=(0,d.v5)({onKeyDown:e=>{l&&"Escape"===e.key&&(c(!1),r.current.focus())}});return a.createElement("div",{className:"calendar-sub-header"},a.createElement("div",_({},i,o,{className:"calendar-date-picker"}),a.createElement("button",{ref:r,type:"button",onClick:()=>c(!l),className:"calendar-date-picker__button"},a.createElement("span",{className:"calendar-date-picker__button-aria"},"Toggle date picker"),t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}),a.createElement("svg",{"aria-hidden":!0,className:"svg-icon svg-icon--small"},a.createElement("use",{href:"#chevron"}))),a.createElement("div",{className:"calendar-date-picker__picker ".concat(l?"calendar-date-picker__picker--open":"")},a.createElement(g(),{onDayClick:e=>{n(e),c(!1),r.current.focus()}}))),a.createElement("div",{className:"calendar-sub-header__date-controls"},a.createElement("button",{type:"button",onClick:()=>{n(new Date)},className:"calendar-sub-header__date-action"},"Today"),a.createElement("button",{type:"button",onClick:()=>s({numberOfDays:-1}),className:"calendar-sub-header__date-action"},a.createElement("svg",{className:"svg-icon svg-icon--small svg-icon--previous"},a.createElement("title",null,"Previous day"),a.createElement("use",{href:"#chevron"}))),a.createElement("button",{type:"button",onClick:()=>s({numberOfDays:1}),className:"calendar-sub-header__date-action"},a.createElement("svg",{className:"svg-icon svg-icon--small svg-icon--next"},a.createElement("title",null,"Next day"),a.createElement("use",{href:"#chevron"})))))}var y=n(306),b=n(23574),N=n(51872);class w{constructor(e,t){this.event=e,this.fcEvent=t}getCalendarItemTitle(){return this.event.title}getDayViewContent(){const e=this.getCalendarItemTitle();let{start:t,end:n}=this.event;const{allDay:r,type:l,icon:c,iconAlt:s,description:i,duration:o,bannerHighlight:d,recurrence:u}=this.event;u&&0!==u.length&&({start:t,end:n}=this.fcEvent);const m=(0,y.p6d)(t,{hour:"numeric",minute:"2-digit",hour12:!1}),v=n&&(0,y.p6d)(n,{hour:"numeric",minute:"2-digit",hour12:!1});return a.createElement("div",{className:"calendar-event ".concat(d?"calendar-event--highlighted":""," ").concat(l?"calendar-event--".concat(l):"")},a.createElement("div",{className:"calendar-event__header"},c&&a.createElement("svg",{className:"svg-icon"},s&&a.createElement("title",null,s),a.createElement("use",{href:"#".concat(c)})),a.createElement("span",{className:"calendar-event__title"},e)),a.createElement("div",{className:"calendar-event__time"},r&&"All day event",!r&&a.createElement("time",{dateTime:m},m),!r&&v&&" to ",!r&&v&&a.createElement("time",{dateTime:v},v)),(!o||o>=9e5)&&a.createElement("div",{className:"calendar-event__description"},i))}getScheduleViewContent(){const e=this.getCalendarItemTitle();let{start:t,end:n}=this.event;const{allDay:r,icon:l,iconAlt:c,recurrence:s}=this.event,i=s&&0!==s.length;i&&({start:t,end:n}=this.fcEvent);let o=(0,y.p6d)(t,{hour:"numeric",minute:"2-digit",hour12:!1}),d=n&&(0,y.p6d)(n,{hour:"numeric",minute:"2-digit",hour12:!1});return!n||i||t.getDate()===n.getDate()&&t.getMonth()===n.getMonth()&&t.getYear()===n.getYear()||(o=(0,y.p6d)(t,{day:"numeric",month:"long",hour:"numeric",minute:"2-digit",hour12:!1}),d=n&&(0,y.p6d)(n,{day:"numeric",month:"long",hour:"numeric",minute:"2-digit",hour12:!1})),a.createElement("div",{role:"link",tabIndex:"0",className:"calendar-event"},a.createElement("div",{className:"calendar-event__header"},l&&a.createElement("svg",{className:"svg-icon svg-icon--expand"},c&&a.createElement("title",null,c),a.createElement("use",{href:"#".concat(l)})),a.createElement("span",{className:"calendar-event__title"},e)),!r&&a.createElement(a.Fragment,null,a.createElement("time",{dateTime:o,className:"calendar-event__time"},o),d&&" to ",d&&a.createElement("time",{dateTime:d,className:"calendar-event__time"},d)))}getModalTitle(){return this.event.title}getModalContent(){let{start:e,end:t}=this.event;const{allDay:n,type:r,description:l,recurrence:c}=this.event;c&&0!==c.length&&({start:e,end:t}=this.fcEvent);const s=(0,y.p6d)(e,{month:"long",day:"numeric",year:"numeric"}),i=(0,y.p6d)(e,{hour:"numeric",minute:"2-digit"}),o=t&&(0,y.p6d)(t,{month:"long",day:"numeric",year:"numeric"}),d=t&&(0,y.p6d)(t,{hour:"numeric",minute:"2-digit"});let u=!1;return!t||e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getYear()===t.getYear()||(u=!0),a.createElement("div",{className:"calendar-event-details calendar-event-details--".concat(r)},a.createElement("div",{className:"calendar-event-details__time"},a.createElement("time",{dateTime:s,className:"calendar-event-details__start-date"},s),n&&a.createElement("span",{className:"calendar-event-details__all-day"}," All day "),!n&&a.createElement(a.Fragment,null," from ",a.createElement("time",{dateTime:i,className:"calendar-event-details__start-time"},i)),!n&&d&&" to ",u&&o&&a.createElement("time",{dateTime:o,className:"calendar-event-details__end-date"}," ".concat(o," ")),!n&&d&&a.createElement("time",{dateTime:d,className:"calendar-event-details__end-time"},d)),a.createElement("div",{className:"calendar-event-details__description"},l))}getModalFooterControls(){return[]}}class D extends w{getCalendarItemTitle(){return this.event.courseCode}getModalTitle(){return this.event.courseName}getModalContent(){let{start:e}=this.event;const{type:t,title:n,description:r,submissionType:l,recurrence:c}=this.event;c&&0!==c.length&&({start:e}=this.fcEvent);const s=(0,y.p6d)(e,{month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"});return a.createElement("div",{className:"calendar-event-details calendar-event-details--".concat(t)},a.createElement("div",{className:"calendar-event-details__due"},a.createElement("h2",{className:"calendar-event-details__due-title"},"Assignment due"),"Due ",a.createElement("time",{dateTime:s,className:"calendar-event-details__due-date"},s),a.createElement("svg",{"aria-hidden":!0,className:"svg-icon"},a.createElement("use",{href:"#edit"}))),a.createElement("h2",{className:"calendar-event-details__sub-title"},n),a.createElement("div",{className:"calendar-event-details__description"},r),a.createElement("div",{className:"calendar-event-details__submit-method"},a.createElement("svg",{"aria-hidden":!0,className:"svg-icon"},a.createElement("use",{href:"#information"})),"Submit ",l),a.createElement("div",{className:"calendar-event-details__submit-note"},"More details available in Canvas"))}getModalFooterControls(){const e=[];return this.event.url&&e.push({url:this.event.url,icon:"external",label:"Canvas"}),e}}function C(e,t){return"assignment"===e.type?new D(e,t):new w(e,t)}function k(e){let{date:t,allDaySlot:n,nowIndicator:r,events:l,onEventClick:c}=e;const s=(0,a.createRef)(),[i,o]=(0,a.useState)();(0,a.useEffect)((()=>{s&&s.current&&o(s.current.getApi())}),[s]),(0,a.useEffect)((()=>{i&&i.gotoDate(t)}),[i,t]);return a.createElement("div",{className:"calendar-day-view"},a.createElement(y.ZPm,{height:"100%",ref:s,plugins:[b.ZP,N.Z],initialView:"timeGridDay",scrollTime:"07:00:00",headerToolbar:!1,titleFormat:!1,allDaySlot:n,nowIndicator:r,events:l,eventClick:c,eventContent:e=>{let{event:t}=e;return C(t.extendedProps,t).getDayViewContent()},eventDidMount:e=>{const t=e.event.extendedProps._eventInteractionType;e.el.setAttribute("role",t===E.D.OpenInModal?"button":"link"),t===E.D.OpenInNewPage&&e.el.setAttribute("target","_blank")},eventMinHeight:48}))}var T=a.memo(k),S=n(52263);function I(e){let{events:t,onEventClick:n}=e,r="";return a.createElement("div",{className:"calendar-schedule-view"},a.createElement(y.ZPm,{height:"100%",plugins:[S.Z,N.Z],views:{oneYear:{type:"list",duration:{days:365},buttonText:"One Year"}},initialView:"oneYear",headerToolbar:!1,titleFormat:!1,events:t,eventClick:n,listDayFormat:{month:"short",day:"numeric"},listDaySideFormat:{month:"long",year:"numeric"},dayHeaderClassNames:e=>(r||(r=e.sideText),r!==e.sideText?(r=e.sideText,"calendar-schedule-view-new-month"):""),eventContent:e=>{let{event:t}=e;return C(t.extendedProps,t).getScheduleViewContent()}}))}var P=a.memo(I);function x(e){let{defaultView:t,allDaySlot:n,nowIndicator:r,title:c,bannerEnabled:s,bannerText:o,bannerCountType:d,eventAdapters:u,typeIconMap:m={},eventAction:v=E.D.OpenInModal}=e;const h=new i({eventAdapters:u});return a.createElement("div",{className:"calendar-wrapper"},a.createElement(l,{eventService:h},a.createElement(M,{defaultView:t,allDaySlot:n,nowIndicator:r,title:c,bannerEnabled:s,bannerText:o,bannerCountType:d,typeIconMap:m,eventAction:v})))}function M(e){let{defaultView:t,allDaySlot:n=E.Y.Day,nowIndicator:l,title:s,bannerEnabled:i,bannerText:d,bannerCountType:u,typeIconMap:p,eventAction:g=E.D.OpenInModal}=e;const[_,y]=(0,a.useState)(t),{events:b,getEvents:N}=(0,a.useContext)(c),[w,D]=(0,a.useState)(0),[k,S]=(0,a.useState)(n),[I,x]=(0,a.useState)(!1),[M,O]=(0,a.useState)(new Date),[Y,A]=(0,a.useState)(void 0),[F,{width:H,height:R}]=function(){const[e,t]=(0,a.useState)(null),[n,r]=(0,a.useState)({width:0,height:0});function l(e){const t=e[0].contentRect,{width:n}=t,{height:a}=t;r({width:n,height:a})}return(0,a.useLayoutEffect)((()=>{if(e){const t=new ResizeObserver(l);return t.observe(e),()=>{t.unobserve(e)}}}),[e]),[t,n]}();(0,a.useEffect)((()=>{_===E.Y.Day&&N({start:new Date((new Date).setHours(0,0,0,0)),end:new Date((new Date).setHours(23,59,59,999))})}),[N]),(0,a.useEffect)((()=>{_===E.Y.Day&&N({start:new Date(M.setHours(0,0,0,0)),end:new Date(M.setHours(23,59,59,999))})}),[M]),(0,a.useEffect)((()=>{if(_===E.Y.Day)N({start:new Date(M.setHours(0,0,0,0)),end:new Date(M.setHours(23,59,59,999))});else if(_===E.Y.Schedule){const e=new Date((new Date).setHours(0,0,0,0));N({start:e,end:new Date((new Date).setFullYear((new Date).getFullYear()+1))})}}),[_]),(0,a.useEffect)((()=>{if(i){const e=b.reduce(((e,t)=>t.type===u?e+1:e),0);D(e)}}),[b]),(0,a.useEffect)((()=>{n&&(b.find((e=>e.allDay))?S(!0):S(!1))}),[n,b]);const V=(0,a.useCallback)(((e,t)=>{t(b.map(((e,t)=>{const n={...e,interactive:!0,extendedProps:{...e,_calendarEventIndex:t,_eventInteractionType:g,duration:Math.floor(Math.abs(e.end-e.start)/1e3/60)}};return g===E.D.OpenInModal&&e.url&&(n.extendedProps.url=e.url,delete n.url),p[e.type]&&(n.extendedProps.icon=p[e.type],n.extendedProps.iconAlt=e.type),I&&e.type===u&&(n.extendedProps.bannerHighlight=!0),e.recurrence&&e.recurrence.length>0&&(n.rrule="".concat(e.recurrence[0])),n})))}),[b,I]),q=(0,a.useCallback)((e=>{let{el:t,event:n}=e;if(g!==E.D.OpenInModal&&n.extendedProps.url)return;const a=b[n.extendedProps._calendarEventIndex];A({event:a,fcEvent:n,element:t})}),[b]),Z=(0,a.useCallback)((()=>{A(void 0)}),[Y]);let j;Y&&(j=C(Y.event,Y.fcEvent));const L=(0,o.Z)();return a.createElement(r.N3,{className:"calendar-wrapper__overlay"},a.createElement("div",{ref:F,className:"no-wysiwyg calendar ".concat(_===E.Y.Day?"calendar--sub-header":"")},a.createElement("div",{className:"calendar__header"},a.createElement("div",{className:"calendar__title"},s),a.createElement(m,{uniqueId:"calendar-view-switcher",icon:"overflow-menu",iconTitle:"Toggle view switcher menu",className:"calendar-view-select"},_===E.Y.Day&&a.createElement(v,{label:"Schedule",onClick:()=>y(E.Y.Schedule)}),_===E.Y.Schedule&&a.createElement(v,{label:"Day",onClick:()=>y(E.Y.Day)}))),_===E.Y.Day&&a.createElement(f,{date:M,onDateChange:e=>{O(e)}}),_===E.Y.Day&&i&&w>0&&a.createElement("button",{type:"button","aria-label":"Highlight ".concat(d),onClick:()=>x(!I),className:"calendar__banner"},d,a.createElement("span",{className:"calendar__banner-count"},w)),a.createElement("div",{className:"calendar__body"},_===E.Y.Day&&a.createElement(T,{width:H,height:R,date:M,allDaySlot:k,nowIndicator:l,events:V,onEventClick:q}),_===E.Y.Schedule&&a.createElement(P,{width:H,height:R,events:V,onEventClick:q}))),Y&&a.createElement(h.Z,{titleId:L,onClose:Z,className:"calendar-modal"},a.createElement("header",{className:"calendar-modal__header"},a.createElement("h1",{id:L,className:"calendar-modal__title"},j.getModalTitle()),a.createElement("button",{type:"button",onClick:Z,className:"calendar-modal__header-close"},a.createElement("svg",{className:"svg-icon"},a.createElement("title",null,"Close modal"),a.createElement("use",{href:"#close"})))),a.createElement("div",{className:"calendar-modal__body"},j.getModalContent()),a.createElement("footer",{className:"calendar-modal__footer"},a.createElement("button",{type:"button",onClick:Z,className:"calendar-modal__close"},"Close"),j.getModalFooterControls().map((e=>a.createElement("a",{key:e.url,href:e.url,target:"_blank",className:"calendar-modal__link",rel:"noreferrer"},e.icon?a.createElement("svg",{className:"svg-icon"},a.createElement("use",{href:"#".concat(e.icon)})):a.createElement(a.Fragment,null),e.label))))))}},11321:function(e,t,n){n.d(t,{Z:function(){return i}});var a=n(67294),r=n(12988),l=n(34708),c=n(49641);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s.apply(this,arguments)}function i(e){let{titleId:t,title:n,onClose:l,children:s,className:i}=e;return a.createElement(r.Xj,null,a.createElement("div",{className:"no-wysiwyg modal-wrapper ".concat(i?"".concat(i,"-wrapper"):"")},a.createElement(c.MT,{contain:!0,restoreFocus:!0,autoFocus:!0},a.createElement(o,{titleId:t,title:n,onClose:l,className:i},s))))}function o(e){let{titleId:t,title:n,onClose:i,children:o,className:d}=e;const u={"aria-describedby":t,title:n,onClose:i,isDismissable:!0,isOpen:!0},m=a.useRef(),v=a.useRef(),h=(0,c.bO)(),{overlayProps:E,underlayProps:p}=(0,r.Ir)(u,v);(0,r.tk)();const{modalProps:g}=(0,r.dd)(),{dialogProps:_,titleProps:f}=(0,l.R)(u,v);return(0,a.useEffect)((()=>{m.current.removeAttribute("hidden"),h.focusFirst()}),[m]),a.createElement("div",s({ref:m},p,{hidden:!0,className:"modal ".concat(d||"")}),a.createElement("div",s({ref:v},E,_,g,{"aria-modal":"true",tabIndex:"-1",className:"modal__content ".concat(d?"".concat(d,"__content"):"")}),t?"":a.createElement("h2",s({},f,{className:"".concat(d?"".concat(d,"__title"):"")}),n),o))}}}]);
//# sourceMappingURL=Calendar-6bde695bbc0855d7af93.js.map