/*! For license information please see Bookmarks-f9854cf075e982292d03.js.LICENSE.txt */
"use strict";(self.webpackChunkPlug_and_Play_Template=self.webpackChunkPlug_and_Play_Template||[]).push([[427],{65525:function(e,t,a){a.d(t,{D:function(){return l}});a(33948),a(17727);class l{constructor(){this.requests=new Map}debounce(e,t){const a=JSON.stringify(e);if(!this.requests.has(a)){const e=t();e.finally((()=>{this.requests.delete(a)})),this.requests.set(a,e)}return this.requests.get(a)}get(e){return this.requests.get(JSON.stringify(e))}}},331:function(e,t,a){a.d(t,{Z:function(){return l}});a(15306),a(82472),a(3462),a(33824);function l(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))}},53969:function(e,t,a){a.r(t),a.d(t,{default:function(){return h}});a(33948),a(60285),a(41637);var l=a(67294),n=a(12988),o=a(65525);class r{constructor(e){if(!e)throw new Error("dto is required when instantiating a new BookmarkService");["bookmarkAdapter"].forEach((t=>{if(!e[t])throw new Error("".concat(t," property is required when instantiating a new BookmarkService"))})),this.promiseDebouncer=new o.D,this.bookmarkAdapter=e.bookmarkAdapter}isPromise(e){return Object(e).constructor===Promise}getAll(e){return this.isPromise(this.bookmarkAdapter.getAll)?this.promiseDebouncer.debounce({method:"getBookmarks",documentId:e},(()=>this.bookmarkAdapter.getAll(e))):new Promise((t=>{t(this.bookmarkAdapter.getAll(e))}))}setAll(e,t){return this.isPromise(this.bookmarkAdapter.setAll)?this.bookmarkAdapter.setAll(e,t):new Promise((a=>{this.bookmarkAdapter.setAll(e,t),a(e)}))}}const s=e=>{let{children:t,bookmarkService:a,documentId:n}=e;const[o,r]=(0,l.useState)(!1),[s,c]=(0,l.useState)(!1),[m,u]=(0,l.useState)([]),d=(0,l.useCallback)((e=>(r(!0),a.getAll(e).then((e=>{u(Array.from(e)),r(!1)})))),[]),k=(0,l.useCallback)(((e,t)=>(r(!0),a.setAll(t,e).then((e=>{u(Array.from(e)),r(!1)})))),[]);return(0,l.useEffect)((()=>{r(!0),a.getAll(n).then((e=>{u(Array.from(e)),r(!1),c(!0)}))}),[r,c,a,n]),l.createElement(i.Provider,{value:{getBookmarks:d,updateBookmarks:k,bookmarks:m,bookmarkService:a,isLoading:o,isReady:s}},t)},i=(0,l.createContext)({bookmarks:[],bookmarkService:null,isLoading:!1,isReady:!1,documentId:null,getBookmarks:()=>{},updateBookmarks:()=>{}});var c=a(331),m=a(11321),u=a(37059);const d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24,a="";try{const l=new URL(e);a="https://www.google.com/s2/favicons?domain=".concat(l.hostname,"&sz=").concat(t)}catch(t){console.error("invalid URL: ".concat(e))}return a},k=e=>{let t=e;return/^(?:f|ht)tps?:\/\//.test(e)||(t="https://".concat(e)),t};function b(e){let{currentLinks:t,initialView:a,maxLinks:o,onDialogClose:r,initialTitle:s,initialSubtitle:i,onSave:u,formSpec:b}=e;const p=(0,l.useRef)(null),f=(0,l.createRef)(null),[h,_]=(0,l.useState)(a),[g,E]=(0,l.useState)(s),[v,q]=(0,l.useState)(i),[N,y]=(0,l.useState)(t),[w,S]=(0,l.useState)(null),[C,A]=(0,l.useState)(""),[x,P]=(0,l.useState)(""),[L,I]=(0,l.useState)(""),[T,B]=(0,l.useState)(!0),D=()=>{const e=[...N];if(null!==w&&"edit"===h)return e[w].title=L,e[w].url=k(C),void _("list");"add"!==h&&"add-only"!==h||(C&&e.push({title:L,url:k(C)}),y(e),u(e),_("list"))};(0,l.useEffect)((()=>{f&&f.current&&f.current.focus()}),[h]);const R=(0,l.useCallback)((e=>{const{value:t}=e.target;A(t),clearTimeout(p.current),B(!0),p.current=setTimeout((()=>{0===t.trim().length?(B(!0),P("URL link is required")):!1==(null!==t.match(/^(((H|h)(T|t)(T|t)(P|p)(S|s)?):\/\/)?[-a-zA-Z0-9@:%._+~#=]{2,100}\.[a-zA-Z]{2,10}(\/([-a-zA-Z0-9@:%_+.~#?&//=]*))?/))?(B(!0),P("The given URL link is invalid")):(B(!1),P(""))}),1e3)}),[]),O=(0,l.useCallback)((e=>{I(e.currentTarget.value),C.length>0&&""!==x&&B(!1)}),[C]),j=(0,l.useCallback)((e=>{13===e.keyCode&&""===x&&D()}),[x]);const z=(0,c.Z)();return l.createElement(n.N3,null,l.createElement(m.Z,{titleId:z,className:"quicklinks-modal",onClose:r},l.createElement("header",{className:"quicklinks-modal__header"},l.createElement("h1",{id:z,className:"quicklinks-modal__title"},g),v&&l.createElement("h2",{className:"quicklinks-modal__subtitle"},v),l.createElement("button",{type:"button",onClick:r,className:"quicklinks-modal__header-close"},l.createElement("svg",{className:"svg-icon"},l.createElement("title",null,"Close modal"),l.createElement("use",{href:"#close"})))),l.createElement("div",{className:"quicklinks-modal__body"},"list"===h&&l.createElement(l.Fragment,null,N&&N.map(((e,t)=>l.createElement("div",{className:"quicklinks-modal__container",key:t},l.createElement("button",{type:"button","aria-label":"Edit bookmark ".concat(e.title),className:"quicklinks-modal__edit-button",onClick:a=>((e,t,a)=>{A(t.url),I(t.title),_("edit"),E("Update Bookmark"),q(""),B(!1),S(a)})(0,e,t)},l.createElement("div",{className:"bookmark-icon"},l.createElement("img",{alt:"link icon",className:"bookmark-icon-image",height:24,src:d(e.url),loading:"lazy",width:24})),l.createElement("div",{className:"quicklinks-modal__edit-button-title"},e.title),l.createElement("svg",{className:"svg-icon"},l.createElement("use",{href:"#edit"}))),l.createElement("button",{type:"button","aria-label":"Delete bookmark ".concat(e.title),className:"quicklinks-modal__delete-button",onClick:e=>((e,t)=>{const a=[...N];a.splice(t,1),y(a),B(!1),u&&u(a),a.length<=0&&_("add-only")})(0,t)},l.createElement("svg",{className:"svg-icon"},l.createElement("use",{href:"#subtract-alt"}))))))),("add"===h||"add-only"===h||"edit"===h)&&l.createElement("div",{className:"form custom-form custom-form--color-grey70"},l.createElement("div",{className:"sq-form-question sq-form-question-text",id:"sq_form_field_wrapper_bookmark-url"},l.createElement("label",{className:"sq-form-question-title",htmlFor:"bookmark-url-input"},"URL link",l.createElement("abbr",{className:"sq-form-required-field",title:"required"},"*")),l.createElement("div",{className:"sq-form-question-answer"},l.createElement("input",{ref:f,autoComplete:"off",autoCapitalize:"off",type:"text",name:"bookmark-url",size:"30",maxLength:"300",placeholder:b.linkUrlPlaceholder,id:"bookmark-url-input",className:"sq-form-field",value:C,onChange:R,onKeyDown:j})),l.createElement("span",{className:"sq-form-error"},x)),l.createElement("div",{className:"sq-form-question sq-form-question-text",id:"sq_form_field_wrapper_bookmark-title"},l.createElement("label",{className:"sq-form-question-title",htmlFor:"bookmark-tile-input"},"Name of bookmark"),l.createElement("div",{className:"sq-form-question-answer"},l.createElement("input",{autoComplete:"off",type:"text",name:"bookmark-title",size:"30",maxLength:"300",placeholder:b.linkTitlePlaceholder,id:"bookmark-tile-input",className:"sq-form-field",value:L,onChange:O,onKeyDown:j})),l.createElement("em",{className:"sq-form-question-note"},"Try to keep it as short as possible.")))),(U=T,l.createElement("footer",{className:["quicklinks-modal__footer","list"!==h&&"quicklinks-modal__footer-right-aligned"].join(" ")},"list"===h?l.createElement(l.Fragment,null,N&&N.length===o?l.createElement("p",{className:"quicklinks__dialog-limit-message"},"You have reached your bookmark limit."):l.createElement("div",{className:"quicklinks-modal__footer-buttons-container"},l.createElement("button",{"aria-label":"Add new bookmark",type:"button",className:"quicklinks-modal__footer-button quicklinks-modal__footer-button--dashed",onClick:e=>(_("add"),E("Add bookmark"),q(""),A(""),I(""),void B(!0))},l.createElement("svg",{className:"svg-icon"},l.createElement("use",{href:"#add"}))))):l.createElement("div",{className:"quicklinks-modal__footer-buttons-container"},N&&N.length>0&&l.createElement("button",{type:"button",className:"quicklinks-modal__footer-button","aria-label":"Go back",onClick:e=>(_("list"),E(s),void q(i))},"Go Back"),l.createElement("button",{type:"button","aria-label":"Save new bookmark",disabled:U,className:"quicklinks-modal__footer-button quicklinks-modal__footer-button--save",onClick:e=>D()},"Save"))))));var U}function p(e){let{links:t,maxLinks:a,dialogView:n,addBookmarks:o,onDialogClose:r,onSave:s,formSpec:i,listSpec:c}=e;return l.createElement("div",{className:"quicklinks__list"},t&&t.map(((e,t)=>l.createElement("div",{className:"quicklinks__link",key:t},l.createElement("button",{type:"button","aria-label":"Open bookmark ".concat(e.title),className:"quicklinks__button",onClick:t=>{return a=e.url,void("_blank"===c.openLinkTarget?window.open(a,"_blank"):window.location.href=a);var a}},l.createElement("div",{className:"quicklinks__link-icon"},l.createElement("img",{alt:"link icon",className:"quicklinks__link-icon-image",height:24,src:d(e.url),loading:"lazy",width:24})),l.createElement("div",{className:"quicklinks__link-title"},e.title))))),(!a||t.length<a)&&l.createElement("div",{className:"quicklinks__link"},l.createElement("button",{type:"button","aria-label":"Add new bookmark",className:"quicklinks__button quicklinks__button--dashed",onClick:o},l.createElement("svg",{className:"svg-icon"},l.createElement("use",{href:"#add"})))),"list"===n&&l.createElement(b,{currentLinks:t,maxLinks:a,onDialogClose:r,initialView:n,initialTitle:"Bookmarks",initialSubtitle:"Add up to four bookmarks.",onSave:s,formSpec:i}),"add-only"===n&&l.createElement(b,{currentLinks:t,maxLinks:a,onDialogClose:r,initialView:n,initialTitle:"New bookmark",onSave:s,formSpec:i}))}function f(e){let{title:t,maxLinks:a,documentId:n,formSpec:o,listSpec:r}=e;const[s,c]=(0,l.useState)(!1),[m,d]=(0,l.useState)("list"),{bookmarks:k,getBookmarks:b,updateBookmarks:f}=(0,l.useContext)(i);(0,l.useEffect)((()=>{(async()=>{await b(n),k.length<=0?d("add-only"):d("list")})()}),[]);const h=(0,l.useCallback)((()=>{k.length<=0?d("add-only"):d("list"),c(!0)}),[k]),_=(0,l.useCallback)((()=>{d("add-only"),c(!0)}),[]),g=(0,l.useCallback)((()=>{c(!1)}),[]),E=(0,l.useCallback)((e=>{(async()=>{await f(n,e)})()}),[]);return l.createElement(u.Z,{headingIcon:l.createElement("button",{type:"button","aria-label":"Edit bookmarks",onClick:h,className:"heading-icon"},l.createElement("svg",{className:"svg-icon"},l.createElement("use",{href:"#edit"}))),title:t,wrapperClasses:"quicklinks",contentClasses:"quicklinks__container"},l.createElement(p,{dialogView:!0===s?m:void 0,links:k,maxLinks:a,onDialogClose:g,onSave:E,formSpec:o,listSpec:r,addBookmarks:_}))}function h(e){let{title:t,maxLinks:a,documentId:n,bookmarkAdapter:o,formSpec:i,listSpec:c}=e;const m=new r({bookmarkAdapter:o});return l.createElement(s,{bookmarkService:m,documentId:n},l.createElement(f,{title:t,maxLinks:a,documentId:n,formSpec:i,listSpec:c}))}h.defaultProps={maxLinks:4,title:"",documentId:666,listSpec:{openLinkTarget:"_blank"},formSpec:{linkUrlPlaceholder:"Enter your link url",linkTitlePlaceholder:"Enter your link title"}}},37059:function(e,t,a){a.d(t,{Z:function(){return o}});a(33948);var l=a(67294);function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n.apply(this,arguments)}function o(e){const{wrapperClasses:t,contentClasses:a,children:o,id:r,headingIcon:s,isCollapsable:i,isInitialCollapsed:c,isScrollable:m,subTitle:u,title:d,...k}=e;let b="";r&&(b="ComponentCard-".concat(r));let p=c||!1;b&&(p="collapsed"===localStorage.getItem(b));const[f,h]=(0,l.useState)(p),_=["collapsable-card","no-wysiwyg",t].join(" "),g=["collapsable-card__contents",a,m&&"collapsable-card--scrollable"].join(" "),E=["svg-icon",!1===f&&"collapsable-card__collapsed"].join(" "),v=(0,l.useCallback)((()=>{h(!f),b&&localStorage.setItem(b,f?"":"collapsed")}),[b,f]);return l.createElement("div",n({className:_,id:r},k),l.createElement("div",{className:"collapsable-card__header"},l.createElement("h2",{className:"collapsable-card__header-text"},d),l.createElement("div",{className:"collapsable-card__header-right"},u&&l.createElement("h3",{className:"collapsable-card__header-text collapsable-card__header-text--sub-title"},u),i&&l.createElement("button",{type:"button",onClick:v,className:"collapsable-card__more-menu-button","aria-expanded":!f,"aria-controls":"content-".concat(r)},l.createElement("svg",{className:E},l.createElement("title",null,f?"Expand panel":"Collapse panel"),l.createElement("use",{href:"#chevron"}))),s)),(!0!==i||!0===i&&!1===f)&&l.createElement("div",{className:g,id:"content-".concat(r),role:"region",tabIndex:-1},o))}},11321:function(e,t,a){a.d(t,{Z:function(){return i}});var l=a(67294),n=a(12988),o=a(34708),r=a(49641);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},s.apply(this,arguments)}function i(e){let{titleId:t,title:a,onClose:o,children:s,className:i}=e;return l.createElement(n.Xj,null,l.createElement("div",{className:"no-wysiwyg modal-wrapper ".concat(i?"".concat(i,"-wrapper"):"")},l.createElement(r.MT,{contain:!0,restoreFocus:!0,autoFocus:!0},l.createElement(c,{titleId:t,title:a,onClose:o,className:i},s))))}function c(e){let{titleId:t,title:a,onClose:i,children:c,className:m}=e;const u={"aria-describedby":t,title:a,onClose:i,isDismissable:!0,isOpen:!0},d=l.useRef(),k=l.useRef(),b=(0,r.bO)(),{overlayProps:p,underlayProps:f}=(0,n.Ir)(u,k);(0,n.tk)();const{modalProps:h}=(0,n.dd)(),{dialogProps:_,titleProps:g}=(0,o.R)(u,k);return(0,l.useEffect)((()=>{d.current.removeAttribute("hidden"),b.focusFirst()}),[d]),l.createElement("div",s({ref:d},f,{hidden:!0,className:"modal ".concat(m||"")}),l.createElement("div",s({ref:k},p,_,h,{"aria-modal":"true",tabIndex:"-1",className:"modal__content ".concat(m?"".concat(m,"__content"):"")}),t?"":l.createElement("h2",s({},g,{className:"".concat(m?"".concat(m,"__title"):"")}),a),c))}}}]);
//# sourceMappingURL=Bookmarks-f9854cf075e982292d03.js.map